!function(e){var t={};function r(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(o,l,function(t){return e[t]}.bind(null,l));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([,function(e,t,r){"use strict";r.r(t);const o=chrome.runtime.id;var l,n;let s=[],a=new class{constructor(){this.elId="foxex-root-container",this.iframeId="iframe-container"}createIframe(e){let t=document.createElement("div");t.id=this.elId,t.style.position="fixed",t.style["z-index"]=2147483647,t.style.top=0,t.style.right=0,t.style.width="315px",t.style.height="100vh";let r=document.createElement("div");r.id="controlArrow",r.style.position="absolute",r.style.background="#0073ca",r.style.cursor="pointer",r.style.width="30px",r.style.height="30px",r.style.left="-30px",r.style.color="#fff",r.style.display="flex",r.style["align-items"]="center",r.style["justify-content"]="center",r.innerHTML="ğŸ‘ˆ",t.append(r),setTimeout(()=>{document.querySelector("#controlArrow").addEventListener("click",e=>{"315px"===t.style.width?(r.innerHTML="ğŸ‘‰",t.style.width="60vw"):(r.innerHTML="ğŸ‘ˆ",t.style.width="315px")})},1e3);let l=document.createElement("iframe");l.allow="autoplay",l.id=this.iframeId,l.style.display="block",l.style.height="100vh",l.style.width="100%",l.style.border="none",l.style["box-shadow"]="4px 0px 16px 4px #0000001a",t.append(l),document.getElementsByTagName("body")[0].append(t),l.setAttribute("src",`chrome-extension://${o}/client/index.html?id=${e}`)}removeIframe(){let e=document.getElementById(this.elId);e&&e.parentNode.removeChild(e)}},c=new class{drawOutline(e){e.target.style.outline="2px solid #ffc107",l=e.target}removeOutline(e){e.target.style.outline=""}},i=new class{constructor(){this.attributes=[],this.element=""}getList(){return{attributes:[...l.classList],element:l.localName}}markSelectedClass(e){n&&n.forEach(e=>{e.style.outline="none"}),e.forEach(e=>{e.style.outline="1px solid red"}),n=e}};chrome.runtime.onMessage.addListener(function(e,t){switch(e.text){case"create_iframe":a.createIframe(e.tabId);break;case"remove_iframe":a.removeIframe();break;case"start_mouse_move":document.addEventListener("mouseover",c.drawOutline),document.addEventListener("mouseout",c.removeOutline);break;case"stop_mouse_move":document.removeEventListener("mouseover",c.drawOutline),document.removeEventListener("mouseout",c.removeOutline);let t=i.getList();u({text:"class_lists",ref:e.ref,lists:t});break;case"mark_element":if(e.clsName.isElement){let t=document.querySelectorAll(`${e.clsName.name}`);i.markSelectedClass(t)}else{let t=document.querySelectorAll(`.${e.clsName.name}`);i.markSelectedClass(t)}break;case"run_script":s=[];var r=document.querySelectorAll(e.schema.row.rowCls);r&&(r.forEach(t=>{var r={};e.schema.columns.map(e=>{r[e.colName]=t.querySelector(e.colCls)&&t.querySelector(e.colCls).textContent?t.querySelector(e.colCls).textContent:""}),s.push(r)}),u({text:"data_table",tableItem:s}));break;case"run_script_from_popup":s=[];var r=document.querySelectorAll(e.schema.row.rowCls);r&&(r.forEach(t=>{var r={};e.schema.columns.map(e=>{r[e.colName]=t.querySelector(e.colCls)&&t.querySelector(e.colCls).textContent?t.querySelector(e.colCls).textContent.trim():""}),s.push(r)}),console.log(s))}});const u=e=>{chrome.runtime.sendMessage(e)}}]);